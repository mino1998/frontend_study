<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        //첫 번째와 세 번째 식에 여러 개의 문장 사용이 가능함
        //이때는 콤마(,)로 구분해준다.
        // let idx=0, i=0 이러면 i도 let으로 선언한 것이다. 
        /*for(let idx=0, i=0; idx<5; idx=idx+1, i+=2){
            console.log(idx+i);
        }
        console.log(i) // 그러기에 global이 아닌 i는 오류가 발생한다.*/

        // 제어문 안에 제어문 넣기 별로 직각삼각형 만들기
        /*for(let i =1 ; i<6; i+=1){
            for(let j=0; j<i; j+=1){
                document.write("*")
            }
            document.write("<br/>")
        }*/
        /*
         //break, 반복문 자체를 중단하자.
         for (let i = 1; i < 6; i += 1) {
             if (i % 2 == 0) {
                 break
             }
             document.write(i)
         }
         document.write("다음부터는 continue 입니다.")
         //continue, 이번만 빼고 해보자.
         for (let i = 1; i < 6; i += 1) {
             if (i % 2 == 0) {
                 continue
             }
             document.write(i)
         }*/

        // for(let i=1; i<46; i+=1){
        //     document.write("*")
        //     if(i%9==0){
        //         document.write("<br/>")
        //     }
        // }
        const cnt = 7;
        const numarray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
        let colnum = 13;
        let arr_idx = 0;

        function writeCharacters(character, count) {
            document.write(character.repeat(count));
        }

        function getNextNumberIndex(currentIndex) {
            return (currentIndex + 1) % numarray.length;
        }

        for (let row = 1; row <= cnt; row++) {
            // if (arr_idx>numarray.length) {
            //     arr_idx = 0;
            // }
            if (row === cnt) {
                while (colnum > 0) {
                    document.write(numarray[arr_idx]);
                    arr_idx = getNextNumberIndex(arr_idx);
                    colnum--;
                }
            } 
            else {
                const num = (row !== 1 && row !== cnt) ? 2 : 1;
                const star = cnt - row;
                const star2 = colnum - (star * 2) - num;
                const star3 = cnt - row;

                writeCharacters('_', star);
                document.write(numarray[arr_idx]);
                arr_idx = getNextNumberIndex(arr_idx);

                writeCharacters('_', star2);

                if (num === 2) {
                    document.write(numarray[arr_idx]);
                    arr_idx = getNextNumberIndex(arr_idx);
                }

                writeCharacters('_', star3);
            }

            document.write("<br/>");
        }
    </script>
</head>

<body>

</body>

</html>